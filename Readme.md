# Инструкция по работе с Git

## Что такое гит?
***Git*** - самая популярная реализация распределённой системы контроля версий(версионность поддерживается и на сервере, и у каждого клиента). Самой распространнённой реализацией ***Git*** является (GitHub)[https://github.com]

## Подготовка репозитория
Для создания репозитория используется команда *git init*. Для этого необходимо открыть в терминале папку с будущем репозиторием и написать *git init*

## Создание коммитов

### Добавление файлов к коммиту
Для добавления файла к новому коммиту используется команда *git add*. Используется она следующим образом: в терминале с папкой-репозиторием пишем *git add <название файла>*.

### Создание коммита
Для создание новой фиксации(коммита) используется команда *git commit*. Для этого в терминале с папкой-репозиторием пишем *git commit -m "<сообщение к коммиту>*. Сообщение к коммиту писать ***ОБЯЗАТЕЛЬНО!!!***

## Журнал изменений
Для просмотра истории изменений используется команда *git log*. Для этого в терминале с папкой-репозиторием необходимо написать *git log*

## Перемещение между коммитами
Для перемещения на другую фиксацию(коммит) используется команда *git checkout*. Для этого необходимо, как показано в прошлом пункте, в журнале изменений найти необходимый коммит и его хеш(номер), после чего в терминале с папкой-репозиторием надо написать *git checkout <хеш коммита>*. После выполнения этой команды мы попадаем в состояние **detached head**, в котором никакие следующие коммиты сохраняться не будут. Для выхода из этого состояния необходимо написать *git checkout master*.

## Ветки в гит
### Создание веток в гит
Для создание новой ветки используется команда *git branch*. Для этого в терминале с папкой-репозиторием необходимо написать *git branch <название ветки>*.
### Просмотр списка веток
Для просмотра списка веток используется команда *git branch*. Для этого в терминале с папкой-репозиторием необходимо написать *git branch*. Выделенная зелёным со звёздочкой ветка - это ветка, в данный момент на которой мы находимся.

### Перемещение между ветками
Для перехода на другую ветку используется команда *git checkout*. Для этого в терминале с папкой-репозиторием необходимо написать *git checkout <название ветки>*. Такая ветка должна **существовать**.

## Слияние веток
Для слияния веток используем команду *git merge*. Для этого необходимо в терминале с папкой-репозиторием написать *git merge <название ветки>*. В названии ветки пишите название той ветки с кторой хотите объединить ту, на которой находитесь.

### Разрешение конфликтов при слиянии
При слиянии веток могут возникнуть конфликты. Иногда они исправляются автоматически, но обычно приходится разбираться с этим вручную - решать какой вариант останется, а какой будет удалён или же оставить оба варианта.

### Удаление веток
Для удаления ветки используется команда *git branch -D*. Для этого необходимо в терминале с папкой-репозиторием написать *git branch -D <название ветки>*. Вы не сможете удалить ветку на которой находитесь, ***_ОБЯЗАТЕЛЬНО_*** нужно переключиться на другую.


## Работа с удалёнными репозиториями
Удалённые репозитории представляют собой версии вашего проекта, сохранённые в интернете или ещё где-то в сети. У вас может быть несколько удалённых репозиториев, каждый из которых может быть доступен для чтения или для чтения-записи. Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них. Управление репозиториями включает в себя как умение добавлять новые, так и умение удалять устаревшие репозитории, а также умение управлять различными удалёнными ветками, объявлять их отслеживаемыми или нет и так далее. В данном разделе мы рассмотрим некоторые из этих навыков.
### Примечание
***Удаленный репозиторий может находиться на вашем локальном компьютере.***

*Вполне возможно, что удалённый репозиторий будет находиться на том же компьютере, на котором работаете вы. Слово «удалённый» не означает, что репозиторий обязательно должен быть где-то в сети или Интернет, а значит только — где-то ещё. Работа с таким удалённым репозиторием подразумевает выполнение стандартных операций отправки и получения, как и с любым другим удалённым репозиторием.*

## Просмотр удалённых репозиториев
Для того, чтобы просмотреть список настроенных удалённых репозиториев, вы можете запустить команду *git remote*. Она выведет названия доступных удалённых репозиториев. Если вы клонировали репозиторий, то увидите как минимум **origin** — имя по умолчанию, которое Git даёт серверу, с которого производилось клонирование:

    $ git clone https://github.com/FrostRaccoon/Seminar-23-12-2022.git
    Cloning into 'ticgit'...
    remote: Reusing existing pack: 1857, done.
    remote: Total 1857 (delta 0), reused 0 (delta 0)
    Receiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.
    Resolving deltas: 100% (772/772), done.
    Checking connectivity... done.
    $ cd ticgit
    $ git remote
    origin

Вы можете также указать ключ *-v*, чтобы просмотреть адреса для чтения и записи, привязанные к репозиторию:

    $ git remote -v
    origin https://github.com/FrostRaccoon/Seminar-23-12-2022.git (fetch)
    origin https://github.com/FrostRaccoon/Seminar-23-12-2022.git (push)

Если у вас больше одного удалённого репозитория, команда выведет их все. Например, для репозитория с несколькими настроенными удалёнными репозиториями в случае совместной работы нескольких пользователей, вывод команды может выглядеть примерно так:

    $ cd grit
    $ git remote -v
    Person1  https://github.com/Person1/grit (fetch)
    Person1  https://github.com/Person1/grit (push)
    Person2  https://github.com/Person2/grit (fetch)
    Person2  https://github.com/Person2/grit (push)
    Person3  https://github.com/Person3/grit (fetch)
    Person3  https://github.com/Person3/grit (push)
    Person4  git://github.com/Person4/grit.git (fetch)
    Person4  git://github.com/Person4/grit.git (push)
    origin   git@github.com:mojombo/grit.git (fetch)
    origin   git@github.com:mojombo/grit.git (push)

Это означает, что мы можем легко получить изменения от любого из этих пользователей. Возможно, что некоторые из репозиториев доступны для записи и в них можно отправлять свои изменения, хотя вывод команды не даёт никакой информации о правах доступа.

## Добавление удалённых репозиториев
Для того, чтобы добавить удалённый репозиторий и присвоить ему имя (shortname), просто выполните команду *git remote add <shortname> <url>*:

    $ git remote
    origin
    $ git remote add pb https://github.com/FrostRaccoon/Seminar-23-12-2022.git
    $ git remote -v
    origin	https://github.com/GeekbrainsLections/Seminar-23-12-2022.git (fetch)
    origin	https://github.com/GeekbrainsLections/Seminar-23-12-2022.git (push)
    pb	https://github.com/FrostRaccoon/Seminar-23-12-2022.git (fetch)
    pb	https://github.com/FrostRaccoon/Seminar-23-12-2022.git (push)

Теперь вместо указания полного пути вы можете использовать *pb*. Например, если вы хотите получить изменения, которые есть у FrostRaccoon, но нету у вас, вы можете выполнить команду *git fetch pb*:

    $ git fetch pb
    remote: Counting objects: 43, done.
    remote: Compressing objects: 100% (36/36), done.
    remote: Total 43 (delta 10), reused 31 (delta 5)
    Unpacking objects: 100% (43/43), done.
    From https://github.com/FrostRaccoon/Seminar-23-12-2022.git
    * [new branch]      master     -> pb/master
    * [new branch]      Seminar-23-12-2022.git     -> pb/Seminar-23-12-2022.git

Ветка **master** из репозитория FrostRaccoon
сейчас доступна вам под именем **pb/master**. Вы можете слить её с одной из ваших веток или переключить на неё локальную ветку, чтобы просмотреть содержимое ветки FrostRaccoon.

## Получение изменений из удалённого репозитория
Когда вы клонируете репозиторий, команда clone автоматически добавляет этот удалённый репозиторий под именем «origin». Таким образом, git fetch origin извлекает все наработки, отправленные на этот сервер после того, как вы его клонировали (или получили изменения с помощью fetch). Важно отметить, что команда git fetch забирает данные в ваш локальный репозиторий, но не сливает их с какими-либо вашими наработками и не модифицирует то, над чем вы работаете в данный момент. Вам необходимо вручную слить эти данные с вашими, когда вы будете готовы.

Если ветка настроена на отслеживание удалённой ветки, то вы можете использовать команду *git pull* чтобы автоматически получить изменения из удалённой ветки и слить их со своей текущей. Этот способ может для вас оказаться более простым или более удобным. К тому же, по умолчанию команда *git clone* автоматически настраивает вашу локальную ветку master на отслеживание удалённой ветки master на сервере, с которого вы клонировали репозиторий. Название веток может быть другим и зависит от ветки по умолчанию на сервере. Выполнение *git pull*, как правило, извлекает (fetch) данные с сервера, с которого вы изначально клонировали, и автоматически пытается слить (merge) их с кодом, над которым вы в данный момент работаете.

## Отправка изменений в удаленный репозиторий
Когда вы хотите поделиться своими наработками, вам необходимо отправить их в удалённый репозиторий. Команда для этого действия простая: *git push < remote-name> < branch-name>*. Чтобы отправить вашу ветку **master** на сервер **origin** (повторимся, что клонирование обычно настраивает оба этих имени автоматически), вы можете выполнить следующую команду для отправки ваших коммитов:

    $ git push origin master

Эта команда срабатывает только в случае, если вы клонировали с сервера, на котором у вас есть права на запись, и если никто другой с тех пор не выполнял команду *push*. Если вы и кто-то ещё одновременно клонируете, затем он выполняет команду *push*, а после него выполнить команду *push* попытаетесь вы, то ваш *push* точно будет отклонён. Вам придётся сначала получить изменения и объединить их с вашими и только после этого вам будет позволено выполнить *push*.

## Просмотр удаленного репозитория
Если хотите получить побольше информации об одном из удалённых репозиториев, вы можете использовать команду *git remote show < remote>*. Выполнив эту команду с некоторым именем, например, **origin**, вы получите следующий результат:

    $ git remote show origin
    * remote origin
    Fetch URL: https://github.com/GeekbrainsLections/Seminar-23-12-2022.git
    Push  URL: https://github.com/GeekbrainsLections/Seminar-23-12-2022.git
    HEAD branch: master
    Remote branches:
        master                               tracked
        dev-branch                           tracked
    Local branch configured for 'git pull':
        master merges with remote master
    Local ref configured for 'git push':
        master pushes to master (up to date)

Она выдаёт URL удалённого репозитория, а также информацию об отслеживаемых ветках. Эта команда любезно сообщает вам, что если вы, находясь на ветке **master**, выполните *git pull*, ветка **master** с удалённого сервера будет автоматически влита в вашу сразу после получения всех необходимых данных. Она также выдаёт список всех полученных ею ссылок.

## Удаление и переименование удалённых репозиториев
Для переименования удалённого репозитория можно выполнить *git remote rename*. Например, если вы хотите переименовать **pb** в **paul**, вы можете это сделать при помощи *git remote rename*

    $ git remote rename pb paul
    $ git remote
    origin
    paul

Стоит упомянуть, что это также изменит имена удалённых веток в вашем репозитории. То, к чему вы обращались как **pb/master**, теперь стало **paul/master**

Если по какой-то причине вы хотите удалить удаленный репозиторий — вы сменили сервер или больше не используете определённое зеркало, или кто-то перестал вносить изменения — вы можете использовать *git remote rm*:

    $ git remote remove paul
    $ git remote
    origin

При удалении ссылки на удалённый репозиторий все отслеживаемые ветки и настройки, связанные с этим репозиторием, так же будут удалены.
